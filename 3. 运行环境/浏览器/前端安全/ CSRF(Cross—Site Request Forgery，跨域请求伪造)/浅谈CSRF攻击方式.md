# [浅谈CSRF攻击方式](https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html)

1. CSRF是什么？

    跨站请求伪造；

2. CSRF可以做什么？

    攻击者盗用了你的身份信息，以你的名义向服务端发送请求，可以以你的名义发邮件、发信息、盗取账号、购买商品、虚拟货币转账等等；

3. CSRF的原理？

    存在漏洞的网站A，攻击者伪造的网站B，用户C；

    用户C先在A输入账号密码登录，A把用户信息存到cookie中返回到浏览器，然后C再打开了B的网站，这时B会向A发送一个请求，浏览器会把cookie值带过去；

    A误以为这是C自己发起的请求，然后进行了处理，这样B的目的就达到了；

4. CSRF的防御？

    服务端进行CSRF防御，主要的思路就是在客户端页面增加伪随机数；

    * Cookie Hashing（所有的表单请求包含同一个token值）

        也就是服务端生成一个随机hash值，存到cookie中，而用户在提交表单的时候，把cookie的hash值也带上，然后后端进行hash值验证，一致才处理该请求；

        缺点：攻击者可以通过XSS漏洞获取到用户的cookie值，从而得知该随机值，因此该方式也不是百分之百保险；

    * 验证码

        每次用户提交时候，需要填写一个图片验证码，这种方式可以完全解决CSRF，但是交互上比较繁琐；
