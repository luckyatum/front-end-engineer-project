# [浏览器缓存看这一篇就够了](https://mp.weixin.qq.com/s/q0SGphiRncLldo7CFJO9GQ)


1. 缓存机制
    * 浏览器发送请求前，根据请求头的expires(响应实体报头)和cache-control(请求报头)强策略缓存，判断是否过期，如果命中则读取缓存内容；
    * 如果没有命中，则发送请求，根据last-modified和etag判断是否命中协商缓存，如果命中直接从缓存获取，否则从服务器获取；
2. 强缓存
    * 强缓存不会向服务器请求，而是直接从浏览器缓存读取；
    * 强缓存原理，向浏览器缓存查找请求结果，根据结果的缓存规则决定是否使用该数据,结果情况大致分为以下三种
        * 第一次请求，不存在强缓存，直接请求服务器；
        * 存在缓存标识和结果，但是已经失效，此时请求服务器，然后判断协商缓存；
        * 存在缓存标识和结果且未失效，直接使用；
    * 强缓存规则，浏览器向服务器发起请求时，服务器会将缓存缓存规则放入http响应报文中，和请求结果一起返回给浏览器，控制字段分别是expires和cache-control,后者优先级更高；
    * expires，缓存过期时间，指定资源到期时间，expires=max-age + 请求时间,在过期时间前可以从浏览器缓存读取数据；
    * cache-control，用于控制网页缓存,主要取值如下：
        * public: 所有内容都将被缓存;
        * private: 只有客户端可以缓存内容，默认值；

